execute if entity @s[nbt={equipment:{offhand:{components:{"minecraft:custom_data":{species:"enderchest_function"}}}}}] run item replace entity @s weapon.offhand with air

execute if entity @s[nbt={Inventory:[{Slot:0b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.0 with air
execute if entity @s[nbt={Inventory:[{Slot:1b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.1 with air
execute if entity @s[nbt={Inventory:[{Slot:2b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.2 with air
execute if entity @s[nbt={Inventory:[{Slot:3b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.3 with air
execute if entity @s[nbt={Inventory:[{Slot:4b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.4 with air
execute if entity @s[nbt={Inventory:[{Slot:5b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.5 with air
execute if entity @s[nbt={Inventory:[{Slot:6b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.6 with air
execute if entity @s[nbt={Inventory:[{Slot:7b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.7 with air
execute if entity @s[nbt={Inventory:[{Slot:8b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s hotbar.8 with air

execute if entity @s[nbt={Inventory:[{Slot:18b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.9 with air
execute if entity @s[nbt={Inventory:[{Slot:19b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.10 with air
execute if entity @s[nbt={Inventory:[{Slot:20b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.11 with air
execute if entity @s[nbt={Inventory:[{Slot:21b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.12 with air
execute if entity @s[nbt={Inventory:[{Slot:22b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.13 with air
execute if entity @s[nbt={Inventory:[{Slot:23b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.14 with air
execute if entity @s[nbt={Inventory:[{Slot:24b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.15 with air
execute if entity @s[nbt={Inventory:[{Slot:25b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.16 with air
execute if entity @s[nbt={Inventory:[{Slot:26b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.17 with air

execute if entity @s[nbt={Inventory:[{Slot:27b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.18 with air
execute if entity @s[nbt={Inventory:[{Slot:28b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.19 with air
execute if entity @s[nbt={Inventory:[{Slot:29b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.20 with air
execute if entity @s[nbt={Inventory:[{Slot:30b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.21 with air
execute if entity @s[nbt={Inventory:[{Slot:31b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.22 with air
execute if entity @s[nbt={Inventory:[{Slot:32b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.23 with air
execute if entity @s[nbt={Inventory:[{Slot:33b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.24 with air
execute if entity @s[nbt={Inventory:[{Slot:34b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.25 with air
execute if entity @s[nbt={Inventory:[{Slot:35b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run item replace entity @s inventory.26 with air



execute unless entity @s[nbt={EnderItems:[{Slot:0b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory0
execute unless entity @s[nbt={EnderItems:[{Slot:1b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory1
execute unless entity @s[nbt={EnderItems:[{Slot:2b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory2
execute unless entity @s[nbt={EnderItems:[{Slot:3b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory3
execute unless entity @s[nbt={EnderItems:[{Slot:4b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory4
execute unless entity @s[nbt={EnderItems:[{Slot:5b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory5
execute unless entity @s[nbt={EnderItems:[{Slot:6b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory6
execute unless entity @s[nbt={EnderItems:[{Slot:7b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory7
execute unless entity @s[nbt={EnderItems:[{Slot:8b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory8

execute unless entity @s[nbt={EnderItems:[{Slot:9b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory9
execute unless entity @s[nbt={EnderItems:[{Slot:10b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory10
execute unless entity @s[nbt={EnderItems:[{Slot:11b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory11
execute unless entity @s[nbt={EnderItems:[{Slot:12b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory12
execute unless entity @s[nbt={EnderItems:[{Slot:13b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory13
execute unless entity @s[nbt={EnderItems:[{Slot:14b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory14
execute unless entity @s[nbt={EnderItems:[{Slot:15b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory15
execute unless entity @s[nbt={EnderItems:[{Slot:16b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory16
execute unless entity @s[nbt={EnderItems:[{Slot:17b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory17
execute unless entity @s[nbt={EnderItems:[{Slot:18b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory18
execute unless entity @s[nbt={EnderItems:[{Slot:19b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory19
execute unless entity @s[nbt={EnderItems:[{Slot:20b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory20
execute unless entity @s[nbt={EnderItems:[{Slot:21b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory21
execute unless entity @s[nbt={EnderItems:[{Slot:22b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory22
execute unless entity @s[nbt={EnderItems:[{Slot:23b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory23
execute unless entity @s[nbt={EnderItems:[{Slot:24b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory24
execute unless entity @s[nbt={EnderItems:[{Slot:25b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory25
execute unless entity @s[nbt={EnderItems:[{Slot:26b,components:{"minecraft:custom_data":{species:"enderchest_function"}}}]}] run function namespace:main/system/ender_chest/inventory26


function namespace:main/system/skill/remove_all_skill
execute store result storage skill_slot skillNum int 1.0 run scoreboard players get @s skillNum1
execute if score @s skillNum1 matches 1.. store result storage skill_slot slot int 0 run scoreboard players get #0 cal
execute if score @s skillNum1 matches 1.. run function namespace:main/system/ender_chest/root_inventory_effect/set_tag with storage minecraft:skill_slot

execute store result storage skill_slot skillNum int 1.0 run scoreboard players get @s skillNum2
execute if score @s skillNum2 matches 1.. store result storage skill_slot slot int -1 run scoreboard players get #-1 cal
execute if score @s skillNum2 matches 1.. run function namespace:main/system/ender_chest/root_inventory_effect/set_tag with storage minecraft:skill_slot

execute store result storage skill_slot skillNum int 1.0 run scoreboard players get @s skillNum3
execute if score @s skillNum3 matches 1.. store result storage skill_slot slot int 1 run scoreboard players get #2 cal
execute if score @s skillNum3 matches 1.. run function namespace:main/system/ender_chest/root_inventory_effect/set_tag with storage minecraft:skill_slot

execute store result storage skill_slot skillNum int 1.0 run scoreboard players get @s skillNum4
execute if score @s skillNum4 matches 1.. store result storage skill_slot slot int 1 run scoreboard players get #3 cal
execute if score @s skillNum4 matches 1.. run function namespace:main/system/ender_chest/root_inventory_effect/set_tag with storage minecraft:skill_slot

execute store result storage skill_slot skillNum int 1.0 run scoreboard players get @s skillNum5
execute if score @s skillNum5 matches 1.. store result storage skill_slot slot int 1 run scoreboard players get #4 cal
execute if score @s skillNum5 matches 1.. run function namespace:main/system/ender_chest/root_inventory_effect/set_tag with storage minecraft:skill_slot
